### 均线交叉策略震荡期 笔记

#### 1. 定义/核心概念
**均线交叉策略（MA Crossover Strategy）** 是一种典型的趋势型量化交易策略。通过判断短期移动平均线  `ma_short` （如 MA5）是否“上穿”或“下穿”长期移动平均线 `ma_long`（如 MA10），来触发买入或卖出信号。
- 上穿（golden cross）：短期均线向上穿过长期均线，代表买入信号
- 下穿（death cross）：短期均线向下穿过长期均线，代表卖出信号
- 主要假设：上升/下降趋势具有延续性，交叉代表出现趋势


#### 2. 关键公式与推导
（1）平均滑动定义
记 $P(t)$ 为 $t$ 时刻的价格
$$
MA_n(t)=\frac{1}{n}\sum_{i=0}^{n-1}P(t-i)
$$

（2）买卖信号生成
$$
\Delta(t)=MA_s(t)-MA_l(t)
$$
当
- $\Delta(t) > 0$ 且 $\Delta(t-1) < 0$ 时，短期均线上穿长期均线，买入
- 反之，则卖出

（3）震荡期模型分析
若价格为震荡函数，以最简单的情况进行建模，假设价格为正弦函数
$$P(t)=A\cdot\sin(\omega t)+B$$
滑动平均也是正弦函数，但存在滞后和衰减。
$$\begin{aligned}&MA_s(t)\approx A_s\sin(\omega t+\phi_s) + B\\&MA_l(t)\approx A_l\sin(\omega t+\phi_l) + B\end{aligned}$$
![[output.png]]
通过和差化积，可以得到
$$
\begin{aligned}MA_n(t)&=\frac{A}{n}\sum_{i=0}^{n-1}sin(\omega (t-i))+B\\&=A\frac{\sin(n\omega/2)}{n\sin(\omega/2)}\sin\left(\omega\cdot (t-\frac{n-1}{2})\right)+B
\end{aligned}
$$
与上述图示和定性分析相符。
因此，也能看出来，均线并不能敏锐捕捉到行情变化，因此会导致后续的种种问题
此时，信号函数为
$$\Delta(t)\approx D\sin(\omega t+\phi)$$

#### 3. 核心问题
这样的策略主要有几个问题
- 交易频率过于频繁
- 在震荡期很容易高买低卖
例如，以上证指数在 `2023-01-01` 至 `2024-01-01` 期间，采取单日线和5日均线作为短线和长线。忽略操作的手续费，如下所示
![[均线交易策略上证指数测试图.png]]
这个与上面的那张理想的正弦函数并不符，主要的原因是初始条件并不好，用正弦函数建模并不准确。
#### 4. 相关笔记
- 
- 

#### 5. 衍生问题或拓展研究
- 
- 

---
tags:: #学习笔记 #均线交叉策略 #震荡期
